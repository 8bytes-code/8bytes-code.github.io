<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    
    <title>è¿›ç¨‹ | ohmyhsy</title>

    <meta name="description" content="&lt;h1 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚åœ¨æ—©æœŸé¢å‘è¿›ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ï¼›åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚&lt;br&gt;â€”â€”ç™¾åº¦ç™¾ç§‘&lt;/p&gt;">
    <meta name="keywords" content="8bytes-blog">

    

    <meta property="og:locale" content="cn" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content= "è¿›ç¨‹ | ohmyhsy"  />
    <meta property="og:description" content= "&lt;h1 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚åœ¨æ—©æœŸé¢å‘è¿›ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ï¼›åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚&lt;br&gt;â€”â€”ç™¾åº¦ç™¾ç§‘&lt;/p&gt;" />
    <meta property="og:url" content="https://8bytes.top/2022/07/21/process/index.html" />
    <meta property="og:site_name" content="" />
    <meta property="article:author" content="Box" />
    <meta property="article:publisher" content="" />
    <meta property="og:description" content="&lt;h1 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚åœ¨æ—©æœŸé¢å‘è¿›ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ï¼›åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚&lt;br&gt;â€”â€”ç™¾åº¦ç™¾ç§‘&lt;/p&gt;" />
    <meta name="twitter:title" content="è¿›ç¨‹ | ohmyhsy"/>
    <meta name="twitter:description" content="&lt;h1 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚åœ¨æ—©æœŸé¢å‘è¿›ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ï¼›åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚&lt;br&gt;â€”â€”ç™¾åº¦ç™¾ç§‘&lt;/p&gt;"/>
    <script type="application/ld+json">
        {
            "description": "&lt;h1 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚åœ¨æ—©æœŸé¢å‘è¿›ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ï¼›åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚&lt;br&gt;â€”â€”ç™¾åº¦ç™¾ç§‘&lt;/p&gt;",
            "author": { "@type": "Person", "name": "Box" },
            "@type": "BlogPosting",
            "url": "https://8bytes.top/2022/07/21/process/index.html",
            "publisher": {
            "@type": "Organization",
            "logo": {
                "@type": "ImageObject",
                "url": "https://8bytes.topundefined"
            },
            "name": "Box"
            },
            "headline": "è¿›ç¨‹ | ohmyhsy",
            "datePublished": "2022-07-21T14:44:06.000Z",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://8bytes.top/2022/07/21/process/index.html"
            },
            "@context": "http://schema.org"
        }
    </script>




    

    
    <meta property="algolia:search" data-application-id="4CVCYWPWWN" data-api-key="7757db6b0a31c3f94c301c885693ed0d" data-index-name="ohmyhsy">
    

    

    

    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ®</text></svg>">
    

    

    

    
<link rel="stylesheet" href="/dist/build.css?v=1646451311888.css">


    
<link rel="stylesheet" href="/dist/custom.css?v=1646451311888.css">


    <script>
        window.isPost = true
        window.aomori = {
            
            
            
        }
        window.aomori_logo_typed_animated = true
        window.aomori_search_algolia = true

    </script>

<meta name="generator" content="Hexo 5.4.1"><link rel="alternate" href="/atom.xml" title="ohmyhsy" type="application/atom+xml">
</head>

<body>

    <div class="container">
    <header class="header">
        <div class="header-type">
            
            <div class="header-type-inner">
                
                    <div id="typed-strings" style="display:none">
                        <p>ohmyhsy</p>
                    </div>
                    <a class="header-type-title" id="typed" href="/"></a>
                
    
                
            </div>
        </div>
        <div class="header-menu">
            <div class="header-menu-inner">
                
                <a href="/">Home</a>
                
                <a href="/archives">Archives</a>
                
                <a href="/friends">Friends</a>
                
                <a href="/collect">Collect</a>
                
                <a href="/photography">Phtotgraphy</a>
                
            </div>
            <div class="header-menu-social">
                
    <a class="social" target="_blank" href="https://github.com/8bytes-code">
        <box-icon type='logo' name='github'></box-icon>
    </a>

            </div>
        </div>

        <div class="header-menu-mobile">
            <div class="header-menu-mobile-inner" id="mobile-menu-open">
                <i class="icon icon-menu"></i>
            </div>
        </div>
    </header>

    <div class="header-menu-mobile-menu">
        <div class="header-menu-mobile-menu-bg"></div>
        <div class="header-menu-mobile-menu-wrap">
            <div class="header-menu-mobile-menu-inner">
                <div class="header-menu-mobile-menu-close" id="mobile-menu-close">
                    <i class="icon icon-cross"></i>
                </div>
                <div class="header-menu-mobile-menu-list">
                    
                    <a href="/">Home</a>
                    
                    <a href="/archives">Archives</a>
                    
                    <a href="/friends">Friends</a>
                    
                    <a href="/collect">Collect</a>
                    
                    <a href="/photography">Phtotgraphy</a>
                    
                </div>
            </div>
        </div>
    </div>

</div>

    <div class="container">
        <div class="main">
            <section class="inner">
                <section class="inner-main">
                    <div class="post">
    <article id="post-cl7vfxqul004tbw9c3rdj0rbm" class="article article-type-post" itemscope
    itemprop="blogPost">

    <div class="article-inner">

        
          
        
        
        

        
        <header class="article-header">
            
  
    <h1 class="article-title" itemprop="name">
      è¿›ç¨‹
    </h1>
  

        </header>
        

        <div class="article-more-info article-more-info-post hairline">

            <div class="article-date">
  <time datetime="2022-07-21T14:44:06.000Z" itemprop="datePublished">2022-07-21</time>
</div>

            

            
            <div class="article-tag">
                <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/windows/" rel="tag">windows</a></li></ul>
            </div>
            

            
            <div class="article-busuanzi">
                <span id="busuanzi_value_page_pv">N</span> äººçœ‹è¿‡
            </div>
            

        </div>

        <div class="article-entry post-inner-html hairline" itemprop="articleBody">
            <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚åœ¨æ—©æœŸé¢å‘è¿›ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ï¼›åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚<br>â€”â€”ç™¾åº¦ç™¾ç§‘</p>
<span id="more"></span>


<hr>
<h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><p>åŸºæœ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä»»åŠ¡è¿›ç¨‹ï¼ŒåŒ…æ‹¬killä¸€ä¸ªæœªå“åº”çš„è¿›ç¨‹ï¼Œéƒ½ä¼šåœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­æ“ä½œã€‚<br>ä¸è¿‡å¾®è½¯è‡ªå·±æœ‰ä¸ªè¿›ç¨‹èµ„æºç®¡ç†å™¨çœ‹åˆ°çš„ä¼šæ›´è¯¦ç»†ä¸€ç‚¹ï¼Œ<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/sysinternals/downloads/process-explorer">é“¾æ¥æˆ³æ­¤å¤„</a></p>
<p><strong>æ³¨ï¼šéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œä¸ç„¶å¾ˆæ…¢</strong></p>
<img src="/2022/07/21/process/000.png" class="">

<p>è¿›ç¨‹å®é™…ä¸Šå°±ä¸€ä¸ªçº¯ç²¹çš„å®¹å™¨ï¼Œè¿›ç¨‹æœ¬èº«ä¸æ‰§è¡Œä»»ä½•ä¸œè¥¿ã€‚ä»£ç çš„å®ç°é çš„çš„æ˜¯çº¿ç¨‹ï¼Œè¿›ç¨‹åªç›¸å½“äºä¸€ä¸ªç¯å¢ƒã€‚<br>å­è¿›ç¨‹ä¹Ÿè¿˜æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå®ƒæ˜¯æŒ‡ç”±å¦ä¸€ä¸ªè¿›ç¨‹(å¯¹åº”ç§°ä¸ºçˆ¶è¿›ç¨‹)æ‰€åˆ›å»ºçš„è¿›ç¨‹ã€‚<br>å­è¿›ç¨‹çš„çº¿ç¨‹æ—¢å¯ä»¥åœ¨çˆ¶è¿›ç¨‹ç»ˆæ­¢ä¹‹åæ‰§è¡Œä»£ç ï¼Œä¹Ÿå¯ä»¥åœ¨çˆ¶è¿›ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­æ‰§è¡Œä»£ç ã€‚</p>
<hr>
<h2 id="åˆ›å»ºè¿›ç¨‹"><a href="#åˆ›å»ºè¿›ç¨‹" class="headerlink" title="åˆ›å»ºè¿›ç¨‹"></a>åˆ›å»ºè¿›ç¨‹</h2><p><code>CreateProcess</code>ç”¨æ¥åˆ›å»ºè¿›ç¨‹çš„å‡½æ•°ã€‚<br>å…¶åŸå‹ï¼Œå‚æ•°ä¸€è´¯çš„åˆè‡­åˆé•¿</p>
<pre><code class="cpp">CreateProcessW(
    _In_opt_ LPCWSTR lpApplicationName, //è¯¥å­—ç¬¦ä¸²å¯ä»¥æŒ‡å®šè¦æ‰§è¡Œçš„æ¨¡å—çš„å®Œæ•´è·¯å¾„å’Œæ–‡ä»¶å
    _Inout_opt_ LPWSTR lpCommandLine,   //å‘½ä»¤è¡Œ
    _In_opt_ LPSECURITY_ATTRIBUTES lpProcessAttributes, //è¯¥ç»“æ„ç¡®å®šå­è¿›ç¨‹æ˜¯å¦å¯ä»¥ç»§æ‰¿è¿”å›åˆ°æ–°è¿›ç¨‹å¯¹è±¡çš„å¥æŸ„ï¼Œå¦‚æœä¸ºNULLåˆ™ä¸èƒ½ç»§æ‰¿
    _In_opt_ LPSECURITY_ATTRIBUTES lpThreadAttributes,  //è¯¥ç»“æ„ç¡®å®šå­è¿›ç¨‹æ˜¯å¦å¯ä»¥ç»§æ‰¿è¿”å›åˆ°æ–°çº¿ç¨‹å¯¹è±¡çš„å¥æŸ„ï¼Œå¦‚æœä¸ºNULLåˆ™ä¸èƒ½ç»§æ‰¿
    _In_ BOOL bInheritHandles,  //å‚æ•°è‹¥ä¸ºTRUEåˆ™æ–°è¿›ç¨‹ç»§æ‰¿è°ƒç”¨è¿›ç¨‹çš„æ¯ä¸ªå¯ç»§æ‰¿å¥æŸ„ã€‚å¦‚ä¸ºFALSEåˆ™ä¸ä¼šç»§æ‰¿å¥æŸ„
    _In_ DWORD dwCreationFlags, //æ§åˆ¶ä¼˜å…ˆçº§åˆ«å’Œæµç¨‹åˆ›å»ºçš„æ ‡è¯†
    _In_opt_ LPVOID lpEnvironment,  //æŒ‡å‘æ–°è¿›ç¨‹çš„ç¯å¢ƒå—çš„æŒ‡é’ˆï¼Œè‹¥ä¸ºNULLåˆ™æ–°è¿›ç¨‹å°†ä½¿ç”¨è°ƒç”¨è¿›ç¨‹çš„ç¯å¢ƒ
    _In_opt_ LPCWSTR lpCurrentDirectory,    //è¿›ç¨‹å½“å‰ç›®å½•çš„å®Œæ•´è·¯å¾„
    _In_ LPSTARTUPINFOW lpStartupInfo,      //è®¾ç½®æ‰©å±•å±æ€§
    _Out_ LPPROCESS_INFORMATION lpProcessInformation    //è¯¥ç»“æ„æ¥æ”¶æœ‰å…³æ–°è¿›ç¨‹çš„æ ‡è¯†ä¿¡æ¯
    );
</code></pre>
<p>å…·ä½“å¯ä»¥å»çœ‹æ–‡æ¡£ã€‚å› ä¸ºWindows APIå¥—å¨ƒä¸¥é‡ã€‚ã€‚ä»–è¿™é‡Œçš„å‚æ•°è¿˜æœ‰ç»“æ„ä½“ã€‚æœ‰ç‚¹ç»·ä¸ä½ã€‚</p>
<p>ç„¶åè‡ªåˆ¶è¿›ç¨‹çš„è¯ä¸å¤ªç†æƒ³ï¼Œåæ­£æ‰“å¼€ä¸€ä¸ªç¨‹åºä¹Ÿæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå°±ç›´æ¥é…ç½®æ‰“å¼€ä¸€ä¸ªç¨‹åº</p>
<pre><code class="cpp">#include &lt;stdio.h&gt;
#include &lt;windows.h&gt;
#include &lt;process.h&gt;


int RunExe()&#123;
    
    //Chromeè·¯å¾„
    STARTUPINFO strStartup;
    memset(&amp;strStartup, 0, sizeof(strStartup));
    strStartup.cb = sizeof(strStartup);
    PROCESS_INFORMATION szProcessInformation;
    memset(&amp;szProcessInformation, 0, sizeof(szProcessInformation));

    TCHAR szCommandLine[] = L&quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot;;
    
    int ret = CreateProcess(
        NULL,
        szCommandLine,
        NULL,
        NULL,
        FALSE,
        CREATE_NEW_CONSOLE,
        NULL,
        NULL,
        &amp;strStartup,
        &amp;szProcessInformation
    );

    if (ret)&#123;
        printf(&quot;Create success ret = %d\n&quot;, ret);
        WaitForSingleObject(szProcessInformation.hProcess,INFINITE);
        CloseHandle(szProcessInformation.hProcess);
        CloseHandle(szProcessInformation.hThread);
        //æ‰‹åŠ¨ç½®ç©ºçœ‹æƒ…å†µã€‚
    &#125; else&#123;
        printf(&quot;Create error!\n&quot;);
    &#125;

    return 0;
&#125;

int main()&#123;
    //é€šè¿‡è¿›ç¨‹æ‹‰èµ·è°·æ­Œæµè§ˆå™¨
    printf(&quot;This is Chrome\n&quot;);
    RunExe();
    system(&quot;pause&quot;);


    return 0;
&#125;
</code></pre>
<p><strong>memsetæ˜¯è®¡ç®—æœºä¸­C&#x2F;C++è¯­è¨€åˆå§‹åŒ–å‡½æ•°ã€‚ä½œç”¨æ˜¯å°†æŸä¸€å—å†…å­˜ä¸­çš„å†…å®¹å…¨éƒ¨è®¾ç½®ä¸ºæŒ‡å®šçš„å€¼ï¼Œ è¿™ä¸ªå‡½æ•°é€šå¸¸ä¸ºæ–°ç”³è¯·çš„å†…å­˜åšåˆå§‹åŒ–å·¥ä½œã€‚</strong></p>
<img src="/2022/07/21/process/001.png" class="">
<p>å¯ä»¥çœ‹åˆ°æ˜¯æˆåŠŸå¯åŠ¨äº†æˆ‘ä»¬çš„è°·æ­Œæµè§ˆå™¨ï¼Œä½†æ˜¯è‡ªå·±ç”¨çš„æ—¶å€™è¦æ³¨æ„ï¼Œæ–‡ä»¶è·¯å¾„æ¯ä¸ªäººå¤šå°‘éƒ½æœ‰ä¸åŒï¼Œæ‰€ä»¥ä¸è¦ç›´æ¥å¥—å¨ƒã€‚</p>
<p>é™¤äº†ç›´æ¥æ‰“å¼€.exeï¼Œè¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼è®©ä»–æ‰“å¼€ç½‘é¡µ<br><code>TCHAR szCommandLine[] = L&quot;\&quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\&quot;https://www.baidu.com&quot;;</code><br>å¦‚æ­¤è®¾ç½®ä¹‹åï¼Œrunçš„æ—¶å€™å°±èƒ½çœ‹åˆ°æµè§ˆå™¨ç›´æ¥æ‰“å¼€ç™¾åº¦çš„é¦–é¡µäº†ã€‚</p>
<img src="/2022/07/21/process/002.png" class="">

<p>å¹¶ä¸”è¿›ç¨‹å¯¹è±¡çš„æˆå‘˜ä¹Ÿä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ç›¸å¯¹åº”çš„id</p>
<pre><code class="cpp">if (ret)&#123;
    printf(&quot;Create success ret = %d\n&quot;, ret);
    WaitForSingleObject(szProcessInformation.hProcess,INFINITE);

    printf(&quot;szProcessInformation.hProcess = %d\n&quot;, szProcessInformation.hProcess);
    printf(&quot;szProcessInformation.hThread = %d\n&quot;, szProcessInformation.hThread);
    printf(&quot;szProcessInformation.dwProcessId = %d\n&quot;, szProcessInformation.dwProcessId);
    printf(&quot;szProcessInformation.dwThreadId = %d\n&quot;, szProcessInformation.dwThreadId);

    CloseHandle(szProcessInformation.hProcess);
    CloseHandle(szProcessInformation.hThread);
    //æ‰‹åŠ¨ç½®ç©ºçœ‹æƒ…å†µã€‚
&#125; else&#123;
    printf(&quot;Create error!\n&quot;);
&#125;
</code></pre>
<img src="/2022/07/21/process/003.png" class="">

<p>å½“ç„¶ç”¨è¿™ä¸ªè°ƒç”¨cmdå»æ‰§è¡Œä¸€äº›å‘½ä»¤å¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œè€Œä¸”æœ‰ç‚¹ç¬¨ï¼Œå®ƒéƒ½å¯ä»¥ç›´æ¥é€šè¿‡systemè°ƒç”¨ç³»ç»Ÿå‘½ä»¤äº†ã€‚</p>
<hr>
<h2 id="è¿›ç¨‹é—´é€šä¿¡æ–¹å¼"><a href="#è¿›ç¨‹é—´é€šä¿¡æ–¹å¼" class="headerlink" title="è¿›ç¨‹é—´é€šä¿¡æ–¹å¼"></a>è¿›ç¨‹é—´é€šä¿¡æ–¹å¼</h2><ol>
<li>socket ipå’Œç«¯å£</li>
<li>å‰ªåˆ‡æ¿  å‰ªåˆ‡æ¿çš„å†…æ ¸å¯¹è±¡</li>
<li>é‚®æ§½ é‚®æ§½çš„å†…æ ¸å¯¹è±¡</li>
<li>åŒ¿åç®¡é“(æ— åç®¡é“)</li>
<li>å‘½åç®¡é“</li>
<li>Copy_data findwindows wm_copudata  Sendmessage</li>
</ol>
<hr>
<h2 id="å‰ªåˆ‡æ¿"><a href="#å‰ªåˆ‡æ¿" class="headerlink" title="å‰ªåˆ‡æ¿"></a>å‰ªåˆ‡æ¿</h2><p>æ–°å»ºé¡¹ç›®mfc</p>
<img src="/2022/07/21/process/004.png" class="">
<p>é€‰æ‹©åŸºäºå¯¹è¯æ¡†ï¼Œç„¶åå°±ç‚¹å®Œæˆ</p>
<img src="/2022/07/21/process/005.png" class="">
<p>æ‰“å¼€ä¹‹åé•¿è¿™æ ·å°±å·®ä¸å¤šäº†ã€‚</p>
<p>è¿è¡Œä¸€ä¸‹ï¼Œè·Ÿé‡Œé¢çœ‹çš„å·®ä¸å¤š</p>
<img src="/2022/07/21/process/006.png" class="">

<p>åŠ ä¸‹æ¥è¦ç”¨åˆ°èµ„æºè§†å›¾ï¼Œå¦‚æœæ²¡æ‰“å¼€çš„å¯ä»¥å‚ç…§</p>
<img src="/2022/07/21/process/007.png" class="">
<img src="/2022/07/21/process/008.png" class="">

<p>å› ä¸ºä¹‹å‰çœ‹è¿‡qtï¼Œæ‰€ä»¥æ‹–åŠ¨ç»„ä»¶å’Œä¿®æ”¹idä¹‹ç±»çš„ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚</p>
<img src="/2022/07/21/process/010.png" class="">
<p>åšæˆè¿™æ ·ä¹‹ååŒå‡»æŒ‰é’®è¿›å…¥ä»£ç å®ç°éƒ¨åˆ†,<strong>æ³¨æ„ä¿®æ”¹é¡¹ç›®ä¸ºå¤šå­—èŠ‚ï¼Œunicodeæœ‰ç‚¹é—®é¢˜å…ˆä¸ç®¡äº†ï¼Œä½†æ˜¯å¯ä»¥æä¸€å˜´ï¼Œå°±æ˜¯æ¥æ”¶çš„æ—¶å€™éœ€è¦è½¬æ¢</strong></p>
<pre><code class="cpp">void CCopyBoardDlg::OnBnClickedSendbutton()&#123;
    //æ‰“å¼€å‰ªåˆ‡æ¿ æˆåŠŸè¿”å›TRUE
    if (OpenClipboard())&#123;
        //æ‰“å¼€ä¹‹åé¦–å…ˆæ¸…ç©ºå‰ªåˆ‡æ¿
        EmptyClipboard();
        char *szSendBuf;

        //è·å–SENDæ¡†çš„å†…å®¹
        CString strSend&#123;&#125;;
        GetDlgItemText(IDC_EDIT_SEND,strSend);

        //åˆ†é…ä¸€ä¸ªå†…å­˜å¯¹è±¡ï¼Œå†…å­˜å¯¹è±¡çš„å¥æŸ„å°±æ˜¯hclip
        HANDLE hClip = GlobalAlloc(GMEM_MOVEABLE, strSend.GetLength()+1);

        //å‰ªåˆ‡æ¿ä¸Šé”
        szSendBuf = (char*)GlobalLock(hClip);
        strcpy(szSendBuf, strSend);

        //æ‹·è´å®Œä¹‹åè§£é”
        GlobalUnlock(hClip);

        //å°†æ•°æ®æ”¾å…¥å‰ªåˆ‡æ¿
        SetClipboardData(CF_TEXT, hClip);

        //å…³é—­å‰ªåˆ‡æ¿
        CloseClipboard();
    &#125;
&#125;

void CCopyBoardDlg::OnBnClickedRecvbutton()&#123;
    //æ‰“å¼€å‰ªåˆ‡æ¿
    if (OpenClipboard())&#123;
        //åˆ¤æ–­å‰ªåˆ‡æ¿æ˜¯å¦å¯ç”¨
        if (IsClipboardFormatAvailable(CF_TEXT))&#123;
            char *szRecvBuf;

            //å‘å‰ªåˆ‡æ¿å–å‡ºæ•°æ®
            HANDLE hClip = GetClipboardData(CF_TEXT);
            szRecvBuf = (char *)GlobalLock(hClip);
            SetDlgItemText(IDC_EDIT_RECV, szRecvBuf);
            GlobalUnlock(hClip);
        &#125;
        //å…³é—­å‰ªåˆ‡æ¿
        CloseClipboard();
    &#125;
&#125;
</code></pre>
<p>æœ€åå®ç°éƒ¨åˆ†å°±æ˜¯è¿™æ ·ï¼Œåœ¨å·¦è¾¹çš„å†…å®¹æ¡†è¾“å…¥ï¼Œç‚¹å‡»å‘é€ä¹‹åï¼Œå†ç‚¹å‡»æ¥æ”¶ï¼Œå³è¾¹çš„æ¡†å°±æœ‰å†…å®¹äº†</p>
<img src="/2022/07/21/process/009.png" class="">

<p>å¯èƒ½ä¼šæœ‰ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆè¯´æ˜¯åŒæ­¥ã€‚è¿™ä¸ªç¨‹åºçœ‹ä¼¼å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ä¹‹é—´çš„äº‹æƒ…ã€‚<br>å®é™…ä¸Šå› ä¸ºæˆ‘ä»¬è°ƒç”¨äº†å‰ªåˆ‡æ¿ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ç‚¹å‡»å‘é€çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç³»ç»Ÿçš„å‰ªåˆ‡æ¿å°±æœ‰äº†å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨åˆ«çš„åœ°æ–¹ç²˜è´´å‡ºæ¥ã€‚<br>å°±åƒè¿™æ ·ï¼Œæˆ‘å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®çš„æºæ–‡ä»¶ä¸­ç²˜è´´å‡ºæ¥ã€‚</p>
<img src="/2022/07/21/process/011.png" class="">

<p>å½“ç„¶ä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªä½œä¸ºæ¡¥æ¢å˜›ã€‚</p>
<pre><code class="cpp">void CCopyBoardCliDlg::OnBnClickedButtonrecv()&#123;
    //æ‰“å¼€å‰ªåˆ‡æ¿
    if (OpenClipboard())&#123;
        //åˆ¤æ–­æ˜¯å¦å¯ç”¨
        if (IsClipboardFormatAvailable(CF_TEXT))&#123;
            char *szRecvBuf;

            //å–å‰ªåˆ‡æ¿æ•°æ®
            HANDLE hClip = GetClipboardData(CF_TEXT);
            szRecvBuf = (char *)GlobalLock(hClip);
            SetDlgItemText(IDC_EDITRECV, szRecvBuf);
            GlobalUnlock(hClip);
        &#125;
        //å…³é—­å‰ªåˆ‡æ¿
        CloseClipboard();
    &#125;
&#125;
</code></pre>
<p>é¢è€æ ·å­ä¸€ä¸ªç›´æ¥æ‰“å¼€ä¸€ä¸ªvsæ‰“å¼€ã€‚</p>
<img src="/2022/07/21/process/012.png" class="">
<p>æ•ˆæœå°±æ˜¯æˆ‘ä¸»è¦çš„ç‚¹äº†å‘é€ä»¥åï¼Œæ–°å†™çš„å¯ä»¥ç›´æ¥é€šè¿‡æ¥æ”¶è·å–ã€‚ä¸æ˜¯è§†é¢‘å¯èƒ½ä¼šæœ‰ç†è§£ä¸Šçš„åå·®ã€‚</p>
<hr>
<h2 id="é‚®æ§½"><a href="#é‚®æ§½" class="headerlink" title="é‚®æ§½"></a>é‚®æ§½</h2><p>é‚®æ§½æ˜¯æ¯”è¾ƒè€çš„é€šä¿¡æ–¹å¼äº†ã€‚<br>ä½¿ç”¨é‚®æ§½çš„è¿›ç¨‹åˆ†ä¸ºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ã€‚é‚®æ§½ç”±æœåŠ¡ç«¯åˆ›å»ºï¼Œåœ¨åˆ›å»ºæ—¶éœ€è¦æŒ‡å®šé‚®æ§½åï¼Œåˆ›å»ºåæœåŠ¡ç«¯å¾—åˆ°é‚®æ§½çš„å¥æŸ„ã€‚åœ¨é‚®æ§½åˆ›å»ºåï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡é‚®æ§½åæ‰“å¼€é‚®æ§½ï¼Œåœ¨è·å¾—å¥æŸ„åå¯ä»¥å‘é‚®æ§½å†™å…¥æ¶ˆæ¯ã€‚<br>é‚®æ§½é€šä¿¡æ˜¯å•é¡¹çš„ï¼Œåªæœ‰æœåŠ¡ç«¯æ‰èƒ½ä»é‚®æ§½ä¸­è¯»å–æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯åªèƒ½å†™å…¥æ¶ˆæ¯ã€‚æ¶ˆæ¯éµå¾ªå…ˆå…¥å…ˆå‡ºçš„åŸåˆ™ã€‚å®¢æˆ·ç«¯å…ˆå†™å…¥çš„æ¶ˆæ¯åœ¨æœåŠ¡ç«¯ç°è¢«è¯»å–ã€‚<br>é€šè¿‡é‚®æ§½é€šä¿¡çš„æ•°æ®å¯ä»¥æ˜¯ä»»æ„æ ¼å¼ï¼Œä½†æ˜¯ä¸€æ¡æ¶ˆæ¯ä¸èƒ½å¤§äº424å­—èŠ‚ã€‚<br>é‚®æ§½é™¤äº†åœ¨æœ¬æœºå†…è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡å¤–ï¼Œåœ¨ä¸»æœºé—´ä¹Ÿå¯ä»¥é€šä¿¡ã€‚ä½†æ˜¯åœ¨ä¸»æœºé—´è¿›è¡Œé‚®æ§½é€šä¿¡ã€‚æ•°æ®é€šè¿‡ç½‘ç»œä¼ æ’­æ—¶ä½¿ç”¨çš„æ˜¯æ•°æ®æŠ¥åè®®(UDP)ï¼Œæ‰€ä»¥æ˜¯ä¸€ç§ä¸å¯é çš„é€šä¿¡ã€‚é€šè¿‡ç½‘ç»œè¿›è¡Œé‚®æ§½é€šä¿¡æ—¶ï¼Œå®¢æˆ·ç«¯å¿…é¡»çŸ¥é“æœåŠ¡ç«¯çš„ä¸»æœºåæˆ–è€…åŸŸåã€‚</p>
<p><code>CreateMailslot</code>é¢ï¼Œè¿˜æ˜¯è€æ ·å­å¾®è½¯ä¼šæ ¹æ®å¤šå­—èŠ‚è¿˜æ˜¯Unicodeä¼šåšä¸€ä¸ªåŒºåˆ†ï¼Œå‰è€…å¤šä¸ªaï¼Œåè€…å¤šä¸ªwã€‚<br>å…¶åŸå‹</p>
<pre><code class="cpp">CreateMailslot(
    _In_     LPCWSTR lpName,
    _In_     DWORD nMaxMessageSize,
    _In_     DWORD lReadTimeout,
    _In_opt_ LPSECURITY_ATTRIBUTES lpSecurityAttributes
    );
</code></pre>
<img src="/2022/07/21/process/013.png" class="">
<img src="/2022/07/21/process/014.png" class="">
<p>ç„¶åè®¾è®¡è¿™ä¹ˆä¸¤ä¸ªä¸œè¥¿ã€‚</p>
<p>å…ˆä»æœåŠ¡å™¨å¼€å§‹è®¾è®¡æ¥æ”¶</p>
<pre><code class="cpp">void CMyMailslotDlg::OnBnClickedRecvbutton()&#123;
    //åˆ›å»ºé‚®æ§½
    LPCTSTR szSlotName = TEXT(&quot;\\\\.\\mailslot\\Mymailslot&quot;);
    HANDLE hSlot = CreateMailslot(
        szSlotName,
        0,                        //æ¶ˆæ¯å¤§å°
        MAILSLOT_WAIT_FOREVER,    //é˜»å¡æ—¶é—´
        NULL                    //å®‰å…¨å±æ€§
    );

    if (hSlot == INVALID_HANDLE_VALUE)&#123;
        TRACE(&quot;CreateMailslot failed with %d\n&quot;, GetLastError());
        return;
    &#125;
&#125;
</code></pre>
<p>ç„¶åè¦è¯»å–æ•°æ®<br>è¿™ä¸€å…³é”®ç‚¹éœ€è¦ç”¨åˆ°ä¸€ä¸ªç‰¹åˆ«çš„å‡½æ•°<code>ReadFile</code></p>
<pre><code class="cpp">ReadFile(
    _In_ HANDLE hFile,    //å¥æŸ„
    _Out_writes_bytes_to_opt_(nNumberOfBytesToRead, *lpNumberOfBytesRead) //ç¼“å†²åŒº

    __out_data_source(FILE) LPVOID lpBuffer,
    _In_ DWORD nNumberOfBytesToRead,        //å°†è¦è¯»å–çš„æœ€å¤§å­—èŠ‚æ•°
    _Out_opt_ LPDWORD lpNumberOfBytesRead,    //æŒ‡é’ˆï¼Œè¯¥å˜é‡æ¥æ”¶æ—¶åŒæ­¥hFileè¯»å–çš„å­—èŠ‚æ•°
    _Inout_opt_ LPOVERLAPPED lpOverlapped    //é»˜è®¤NULL
    );
</code></pre>
<p>å®Œæ•´çš„è¿™ä¸ªæœåŠ¡ç«¯æ¥æ”¶åŠŸèƒ½</p>
<pre><code class="cpp">void CMyMailslotDlg::OnBnClickedRecvbutton()&#123;
    //åˆ›å»ºé‚®æ§½
    LPCTSTR szSlotName = TEXT(&quot;\\\\.\\mailslot\\Mymailslot&quot;);
    HANDLE hSlot = CreateMailslot(
        szSlotName,
        0,                        //æ¶ˆæ¯å¤§å°
        MAILSLOT_WAIT_FOREVER,    //é˜»å¡æ—¶é—´
        NULL                    //å®‰å…¨å±æ€§
    );

    if (hSlot == INVALID_HANDLE_VALUE)&#123;
        TRACE(&quot;CreateMailslot failed with %d\n&quot;, GetLastError());
        return;
    &#125;

    //è¯»æ•°æ®
    char szBuf[100] = &#123; 0 &#125;;
    DWORD dwRead;
    if (!ReadFile(hSlot, szBuf, 100, &amp;dwRead, NULL))&#123;
        MessageBox(&quot;ReadFile error!&quot;);
        return;
    &#125;
    TRACE(&quot;---dwRead = %d\n&quot;, dwRead);
    MessageBox(szBuf);

    CloseHandle(hSlot);
&#125;
</code></pre>
<p>ç„¶åå®¢æˆ·ç«¯çš„å‘é€åŠŸèƒ½å…¶å®ä¹ŸæŒºç±»ä¼¼</p>
<pre><code class="cpp">void CMymailCliDlg::OnBnClickedSendbutton()&#123;
    //åˆ›å»ºå¥æŸ„
    LPCTSTR szSlotName = TEXT(&quot;\\\\.\\mailslot\\Mymailslot&quot;);
    HANDLE hMailSlot = CreateFile(
        szSlotName,
        FILE_GENERIC_WRITE,
        FILE_SHARE_READ,
        NULL,
        OPEN_EXISTING,
        FILE_ATTRIBUTE_NORMAL,
        NULL
    );

    if (hMailSlot == INVALID_HANDLE_VALUE)&#123;
        TRACE(&quot;CreateFile failed with %d\n&quot;, GetLastError());
        return;
    &#125;

    //å†™å…¥æ•°æ®
    char szBuf[100] = &quot;MailSlot Comming&quot;;
    DWORD dwWrite;
    if (!WriteFile(hMailSlot, szBuf, strlen(szBuf)+1, &amp;dwWrite, NULL))&#123;
        MessageBox(&quot;Write Error!&quot;);
        return;
    &#125;

    //å…³é—­å¥æŸ„
    CloseHandle(hMailSlot);
&#125;
</code></pre>
<img src="/2022/07/21/process/015.png" class="">
<p>æŒ‰ç…§è¿™ä¸ªé¡ºåºå¤§è‡´å°±æ˜¯è¿™ä¸ªæ•ˆæœã€‚</p>
<blockquote>
<p>é‚®æ§½ç”¨çš„ä¸å¤šï¼Œä¹‹å‰å¯ä»¥è¯´æ˜¯å¬éƒ½æ²¡å¬è¿‡</p>
</blockquote>
<hr>
<h2 id="åŒ¿åç®¡é“"><a href="#åŒ¿åç®¡é“" class="headerlink" title="åŒ¿åç®¡é“"></a>åŒ¿åç®¡é“</h2><p>åŒ¿åç®¡é“æ˜¯ä¸€ä¸ªæ²¡æœ‰å‘½åçš„å•å‘ç®¡é“ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå…±äº«çš„å†…å­˜åŒºåŸŸã€‚é€šå¸¸ç”¨æ¥åœ¨çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¹‹é—´é€šä¿¡ã€‚<br>åªèƒ½å®ç°æœ¬åœ°ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œä¸èƒ½å®ç°ç½‘ç»œé€šä¿¡ã€‚</p>
<p><code>CreatePipe</code></p>
<pre><code class="cpp">CreatePipe(
    _Out_ PHANDLE hReadPipe,
    _Out_ PHANDLE hWritePipe,
    _In_opt_ LPSECURITY_ATTRIBUTES lpPipeAttributes,
    _In_ DWORD nSize
    );
</code></pre>
<p>é¢è¿™é‡Œå› ä¸ºæ˜¯è¦ç”¨åˆ°ä¸¤ä¸ªè¿›ç¨‹ï¼Œå°±ç›´æ¥åœ¨é‚®æ§½ä¸Šæ”¹äº†ã€‚</p>
<h3 id="æœåŠ¡ç«¯"><a href="#æœåŠ¡ç«¯" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h3><pre><code class="cpp">HANDLE hReadPipe;    //è¯»å¥æŸ„
HANDLE hWritePipe;    //å†™å¥æŸ„

void CMyMailslotDlg::OnBnClickedSendbutton()&#123;
    char szBuf[] = &quot;This Server Pipe&quot;;
    DWORD dwWrite;
    if (!WriteFile(hWritePipe, szBuf, strlen(szBuf) + 1, &amp;dwWrite, NULL))&#123;
        MessageBox(_T(&quot;å†™å…¥æ•°æ®å¤±è´¥&quot;));
        return;
    &#125;
&#125;

void CMyMailslotDlg::OnBnClickedRecvbutton()&#123;
    char szBuf[100] = &#123; 0 &#125;;
    DWORD dwRead;
    TRACE(&quot;Begin ReadFile&quot;);
    if (!ReadFile(hReadPipe, szBuf, 100, &amp;dwRead, NULL))&#123;
        MessageBox(_T(&quot;è¯»å–æ•°æ®å¤±è´¥&quot;));
        return;
    &#125;
    TRACE(&quot;End PipeReadFile&quot;);
    MessageBox(szBuf);
&#125;

void CMyMailslotDlg::OnBnClickedCreBtn()&#123;
    SECURITY_ATTRIBUTES sa;
    sa.bInheritHandle = TRUE;
    sa.lpSecurityDescriptor = NULL;
    sa.nLength = sizeof(SECURITY_ATTRIBUTES);
    if (!CreatePipe(&amp;hReadPipe, &amp;hWritePipe, &amp;sa, 0))&#123;
        MessageBox(_T(&quot;åŒ¿åç®¡é“åˆ›å»ºå¤±è´¥&quot;));
        return;
    &#125;

    //åˆ›å»ºå­è¿›ç¨‹
    STARTUPINFO strStartupInfo;    //ç”¨æ¥æŒ‡å®šæ–°è¿›ç¨‹çª—å£å¦‚ä½•æ˜¾ç¤º
    memset(&amp;strStartupInfo, 0, sizeof(strStartupInfo));
    strStartupInfo.cb = sizeof(strStartupInfo);
    strStartupInfo.dwFlags = STARTF_USESTDHANDLES;
    strStartupInfo.hStdInput = hReadPipe;
    strStartupInfo.hStdOutput = hWritePipe;
    strStartupInfo.hStdError = GetStdHandle(STD_ERROR_HANDLE);

    PROCESS_INFORMATION szProcessInformation;
    memset(&amp;szProcessInformation, 0, sizeof(szProcessInformation));

    int iRet = CreateProcess(
        _T(&quot;MymailCli.exe&quot;),
        NULL,
        NULL,
        NULL,
        TRUE,
        0,
        NULL,
        NULL,
        &amp;strStartupInfo,
        &amp;szProcessInformation
    );

    if (iRet)&#123;
        //åˆ›å»ºæˆåŠŸçš„æƒ…å†µ
        CloseHandle(szProcessInformation.hProcess);
        CloseHandle(szProcessInformation.hThread);
        szProcessInformation.dwProcessId = 0;
        szProcessInformation.dwThreadId = 0;
        szProcessInformation.hThread = NULL;
        szProcessInformation.hProcess = NULL;
    &#125; else&#123;
        CloseHandle(hReadPipe);
        CloseHandle(hWritePipe);
        hReadPipe = NULL;
        hWritePipe = NULL;
        MessageBox(_T(&quot;å­è¿›ç¨‹åˆ›å»ºå¤±è´¥&quot;));
        return;
    &#125;
&#125;
</code></pre>
<p>è¿™é‡Œä¸»è¦æ˜¯ç»™æœåŠ¡ç«¯æ‹‰èµ·ä¸€ä¸ªè¿›ç¨‹ï¼Œç„¶åé€šè¿‡æ‹‰èµ·çš„å®¢æˆ·ç«¯è¿›è¡ŒåŒ¿åç®¡é“ä¼ é€’<br>è¿›ç¨‹çš„ä»£ç å¤§å¤šè¿˜æ˜¯æŠ„ä¹‹å‰å†™çš„è¿›ç¨‹éƒ¨åˆ†ã€‚</p>
<img src="/2022/07/21/process/016.png" class="">

<hr>
<h3 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h3><pre><code class="cpp">HANDLE hReadPipe;    //è¯»å¥æŸ„
HANDLE hWritePipe;    //å†™å¥æŸ„

void CMymailCliDlg::OnBnClickedSendbutton()&#123;
    hWritePipe = GetStdHandle(STD_OUTPUT_HANDLE);

    char szBuf[100] = &quot;This Client Pipe&quot;;
    DWORD dwWrite;
    if (!WriteFile(hWritePipe, szBuf, strlen(szBuf) + 1, &amp;dwWrite, NULL))&#123;
        MessageBox(_T(&quot;å†™å…¥æ•°æ®å¤±è´¥&quot;));
        return;
    &#125;
&#125;

void CMymailCliDlg::OnBnClickedRecvbutton()&#123;
    hReadPipe = GetStdHandle(STD_INPUT_HANDLE);

    char szBuf[100] = &#123; 0 &#125;;
    DWORD dwRead;
    if (!ReadFile(hReadPipe, szBuf, 100, &amp;dwRead, NULL))&#123;
        MessageBox(_T(&quot;è¯»å–æ•°æ®å¤±è´¥&quot;));
        return;
    &#125;
    MessageBox(szBuf);
&#125;
</code></pre>
<p>å®¢æˆ·ç«¯å› ä¸ºä¸ç”¨ç®¡é‚®æ§½å…ˆï¼Œå°±é€šè¿‡å¥æŸ„ä¼ é€ã€‚</p>
<hr>
<h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><img src="/2022/07/21/process/017.png" class="">
<p>æ ¹æ®æŒ‰é’®æ‰“å¼€æ–°è¿›ç¨‹ã€‚</p>
<p>ç„¶åç›¸äº’ç‚¹å‡»å‘é€å’Œæ¥æ”¶<br>æœåŠ¡ç«¯å‘é€ å®¢æˆ·ç«¯æ¥æ”¶</p>
<img src="/2022/07/21/process/018.png" class="">

<p>å®¢æˆ·ç«¯å‘é€ æœåŠ¡ç«¯æ¥æ”¶</p>
<img src="/2022/07/21/process/019.png" class="">

<p>å¤§è‡´å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªæ•ˆæœã€‚</p>
<p><strong>ç»§ç»­æ’ä¸€å˜´ï¼šåŒ¿åç®¡é“åªèƒ½å®ç°æœ¬åœ°ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œä¸èƒ½å®ç°ç½‘ç»œé€šä¿¡ã€‚</strong></p>
<hr>
<h2 id="å‘½åç®¡é“"><a href="#å‘½åç®¡é“" class="headerlink" title="å‘½åç®¡é“"></a>å‘½åç®¡é“</h2><p>ä¸Socketç›¸ä¼¼ï¼Œæ”¯æŒç½‘ç»œä¹‹é—´ä¸åŒè¿›ç¨‹çš„é€šä¿¡<br>æ—¢ç„¶ä¹Ÿèƒ½é€šä¿¡ï¼Œè‡ªç„¶ä¹Ÿèƒ½é€šè¿‡c&#x2F;sæ¨¡å¼å®ç°</p>
<p><code>CreateNamePipe</code></p>
<pre><code class="cpp">CreateNamedPipeA(
    _In_     LPCSTR lpName,
    _In_     DWORD dwOpenMode,
    _In_     DWORD dwPipeMode,
    _In_     DWORD nMaxInstances,
    _In_     DWORD nOutBufferSize,
    _In_     DWORD nInBufferSize,
    _In_     DWORD nDefaultTimeOut,
    _In_opt_ LPSECURITY_ATTRIBUTES lpSecurityAttributes
    );
</code></pre>
<p>æ’ä¸€å¥ï¼Œé¡¹ç›®æœ‰äº›æ—¶å€™éƒ½ç”¨å¤šå­—èŠ‚çš„ï¼ŒUnicodeæœ‰çš„æ—¶å€™è¦è½¬æ¢å¤ªéº»çƒ¦äº†ã€‚</p>
<h3 id="æœåŠ¡ç«¯-1"><a href="#æœåŠ¡ç«¯-1" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h3><pre><code class="cpp">HANDLE hNamedPipe;

void CmyNamePipeSerDlg::OnBnClickedProBtn()&#123;
    //åˆ›å»ºå‘½åç®¡é“
    LPCTSTR szPipeName = TEXT(&quot;\\\\.\\pipe\\mypipe&quot;);
    hNamedPipe = CreateNamedPipe(
        szPipeName,
        PIPE_ACCESS_DUPLEX | FILE_FLAG_OVERLAPPED,
        PIPE_TYPE_BYTE, 1, 1024, 1024, 0, NULL
    );

    if (hNamedPipe == INVALID_HANDLE_VALUE)&#123;
        TRACE(&quot;CreateNamePipe failed with %d\n&quot;, GetLastError());
        MessageBox(_T(&quot;åˆ›å»ºå‘½åç®¡é“å¤±è´¥&quot;));
        return;
    &#125;

    //ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥
    HANDLE hEvent = CreateEvent(NULL, TRUE, FALSE, NULL);
    if (NULL == hEvent)&#123;
        MessageBox(_T(&quot;åˆ›å»ºäº‹ä»¶å¤±è´¥&quot;));
        CloseHandle(hNamedPipe);
        hNamedPipe = NULL;
        return;
    &#125;

    OVERLAPPED ovlap;
    ZeroMemory(&amp;ovlap, sizeof(OVERLAPPED));
    ovlap.hEvent = hEvent;

    //ç­‰å¾…è¿æ¥
    if (!ConnectNamedPipe(hNamedPipe, &amp;ovlap))&#123;
        if (ERROR_IO_PENDING != GetLastError())&#123;
            MessageBox(_T(&quot;ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥å¤±è´¥&quot;));
            CloseHandle(hNamedPipe);
            CloseHandle(hEvent);
            hNamedPipe = NULL;
            hEvent = NULL;
            return;
        &#125;
    &#125;

    if (WaitForSingleObject(hEvent, INFINITE) == WAIT_FAILED)&#123;
        MessageBox(_T(&quot;ç­‰å¾…å¯¹è±¡å¤±è´¥&quot;));
        CloseHandle(hNamedPipe);
        CloseHandle(hEvent);
        hNamedPipe = NULL;
        hEvent = NULL;
        return;
    &#125;
&#125;
</code></pre>
<p>åˆ›å»ºå‘½åç®¡é“å…¶å®ä¹Ÿè¿˜å¥½ï¼Œä½†æ˜¯ä¸ºäº†ä¸€äº›å®‰å…¨è€ƒè™‘ï¼Œåšäº†ä¸€äº›æªæ–½ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯copyæ¥çš„ã€‚</p>
<p>è‡³äºsendå’Œrecvå…¶å®æ¢æ±¤ä¸æ¢è¯</p>
<pre><code class="cpp">void CmyNamePipeSerDlg::OnBnClickedSendBtn()&#123;
    //å‘½åç®¡é“ æœåŠ¡ç«¯ å‘é€
    char szBuf[] = &quot;This Named Pipe From Server&quot;;
    DWORD dwWrite;

    if (!WriteFile(hNamedPipe, szBuf, strlen(szBuf) + 1, &amp;dwWrite, NULL))&#123;
        MessageBox(_T(&quot;WriteFile Failed!!!&quot;));
        return;
    &#125;
&#125;

void CmyNamePipeSerDlg::OnBnClickedRecvbtn()&#123;
    //å‘½åç®¡é“ æœåŠ¡ç«¯ æ¥æ”¶
    char szBuf[100] = &#123; 0 &#125;;
    DWORD dwRead;

    if (!ReadFile(hNamedPipe, szBuf, 100, &amp;dwRead, NULL))&#123;
        MessageBox(_T(&quot;ReadFile Failed!!!&quot;));
        return;
    &#125;
    //æ¥æ”¶åæ˜¾ç¤ºå‡ºæ¥
    MessageBox(szBuf);
&#125;
</code></pre>
<p>å¯ä»¥è¯´è·Ÿä¹‹å‰çš„ä¸€ä¸ªæ¨¡æ ·çš„~</p>
<hr>
<h3 id="å®¢æˆ·ç«¯-1"><a href="#å®¢æˆ·ç«¯-1" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h3><pre><code class="cpp">HANDLE hNamedPipe;

void CmyNamePipeCliDlg::OnBnClickedConnBtn()&#123;
    //åˆ›å»ºå‘½åç®¡é“
    LPCTSTR szPipeName = TEXT(&quot;\\\\.\\pipe\\mypipe&quot;);

    if (0 == WaitNamedPipe(szPipeName,NMPWAIT_WAIT_FOREVER))&#123;
        MessageBox(_T(&quot;å½“å‰æ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„ç®¡é“&quot;));
        return;
    &#125;

    //é€šè¿‡æ‰“å¼€çš„å‘½åç®¡é“è¿”å›çš„å¥æŸ„ä¼ ç»™hNamedPipe
    hNamedPipe = CreateFile(
        szPipeName, GENERIC_READ | GENERIC_WRITE,
        0, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL
    );

    if (hNamedPipe == INVALID_HANDLE_VALUE)&#123;
        TRACE(&quot;CreateFile failed with %d\n&quot;, GetLastError());
        CloseHandle(hNamedPipe);
        hNamedPipe = NULL;
        return;
    &#125;
&#125;
</code></pre>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå®¢æˆ·ç«¯çš„è¿æ¥ç®¡é“å°±æ¯”è¾ƒç®€å•äº†ã€‚</p>
<p>ç„¶åæ¥æ”¶å‘é€ä¸€ä¸ªæ ·éƒ½å¯ä»¥ç›´æ¥æ‹·è´å‰é¢çš„</p>
<pre><code class="cpp">void CmyNamePipeCliDlg::OnBnClickedSendBtn()&#123;
    //å‘½åç®¡é“ å®¢æˆ·ç«¯ å‘é€
    char szBuf[100] = &quot;Named of Pipe Client&quot;;
    DWORD dwWrite;

    if (!WriteFile(hNamedPipe, szBuf, strlen(szBuf) + 1, &amp;dwWrite, NULL))&#123;
        MessageBox(_T(&quot;WriteFile Failed!!!&quot;));
        CloseHandle(hNamedPipe);
        return;
    &#125;
&#125;

void CmyNamePipeCliDlg::OnBnClickedRecvBtn()&#123;
    //å‘½åç®¡é“ å®¢æˆ·ç«¯ æ¥æ”¶
    char szBuf[100] = &#123; 0 &#125;;
    DWORD dwRead;

    if (!ReadFile(hNamedPipe, szBuf, 100, &amp;dwRead, NULL))&#123;
        MessageBox(_T(&quot;ReadFile Failed!!!&quot;));
        CloseHandle(hNamedPipe);
        return;
    &#125;

    MessageBox(szBuf);
&#125;
</code></pre>
<hr>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>é¦–å…ˆè‚¯å®šæ˜¯å…ˆç¼–è¯‘äº†ã€‚</p>
<img src="/2022/07/21/process/020.png" class="">
<p>å¯ä»¥çœ‹åˆ°åœ¨æ²¡æœ‰å»ºç«‹ç®¡é“çš„æ—¶å€™ï¼Œç‚¹å‡»è‚¯å®šæ˜¯æŠ¥é”™çš„ã€‚</p>
<img src="/2022/07/21/process/021.png" class="">
<p>è€æ ·å­ï¼Œç‚¹å‡»å»ºç«‹ï¼Œç„¶åå®¢æˆ·ç«¯è¿æ¥ä¹‹å</p>
<p>æœåŠ¡å™¨å‘é€ å®¢æˆ·ç«¯æ¥æ”¶</p>
<img src="/2022/07/21/process/022.png" class="">

<p>å®¢æˆ·ç«¯å‘é€ æœåŠ¡å™¨æ¥æ”¶</p>
<img src="/2022/07/21/process/023.png" class="">

<p>okæ²¡å•¥é—®é¢˜~<br>é™¤éè¦è€ƒåˆ°ï¼Œä¸ç„¶è¿™ç©æ„æˆ‘æ˜¯è®°ä¸ä½ï¼Œçœ‹çœ‹æ–‡æ¡£å·®ä¸å¤šäº†ã€‚</p>
<hr>
<h2 id="WM-COPUDATA"><a href="#WM-COPUDATA" class="headerlink" title="WM_COPUDATA"></a>WM_COPUDATA</h2><p><code>wParam</code>ä¼ é€’æ•°æ®çš„çª—å£çš„å¥æŸ„</p>
<p><code>COPYDATASTRUCT</code></p>
<pre><code class="cpp">typedef struct tagCOPYDATASTRUCT &#123;
    ULONG_PTR dwData;
    DWORD cbData;
    _Field_size_bytes_(cbData) PVOID lpData;
&#125; COPYDATASTRUCT, *PCOPYDATASTRUCT;
</code></pre>
<p><code>SPY++</code>å·¥å…·ä¸“é—¨ç”¨æ¥æŸ¥æ‰¾çª—å£å¥æŸ„<br>è¿™ç©æ„å†…ç½®åœ¨vsé‡Œé¢äº†ï¼Œåœ¨é¡¶éƒ¨å·¥å…·æ é‡Œé¢</p>
<img src="/2022/07/21/process/024.png" class="">
<p>æ‰“å¼€ä¹‹åå°±æ˜¯è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿</p>
<p>ç„¶åç‚¹çª—å£æœç´¢ï¼Œå®ƒå¯ä»¥æ‹–åŠ¨åˆ°æŒ‡å®šçš„çª—å£å»è·å–å¥æŸ„</p>
<img src="/2022/07/21/process/025.png" class="">
<p>è¿™é‡Œæ‹–åˆ°æˆ‘ä»¬çš„vs22ä¸Šé¢ï¼Œå¯ä»¥çœ‹åˆ°èƒ½çœ‹åˆ°æ ‡é¢˜å’Œå¥æŸ„ã€‚</p>
<p>æ‹¿åˆ°è¿™æ ·çš„å¥æŸ„ä¹‹åå¯ä»¥è¿›è¡Œé€šä¿¡ï¼Œä¸è¿‡ä¹Ÿè¦èƒ½å†™ä»£ç ã€‚ä¸ç„¶ç»“æ„ä¸ä¸€æ ·å®ƒä¹Ÿæ²¡æœ‰å‘é€æ¥æ”¶ä»€ä¹ˆçš„ã€‚</p>
<p>è¿™é‡Œä¹Ÿç›´æ¥ç”¨ä¸Šé¢å†™çš„ä¿®æ”¹ä¸€ä¸‹å°±è¡Œäº†ã€‚<br>å®¢æˆ·ç«¯å‘é€</p>
<pre><code class="cpp">void CmyNamePipeCliDlg::OnBnClickedSendBtn()&#123;
    //å‘é€ç«¯
    CString strWinTitle = _T(&quot;æœåŠ¡ç«¯&quot;);
    CString strMsg = _T(&quot;Client COPYDATA&quot;);

    //åˆ©ç”¨æ ‡é¢˜è·å–å¥æŸ„
    HWND hwnd = ::FindWindow(NULL, strWinTitle.GetBuffer(0));

    //åˆ¤æ–­å¥æŸ„æœ‰å†…å®¹è¿˜æ˜¯ä¸ªçª—å£
    if (hwnd != NULL &amp;&amp; IsWindow(hwnd))&#123;
        //æ•°æ®çš„å°è£…
        COPYDATASTRUCT cpd;
        cpd.dwData = 0;
        cpd.cbData = strMsg.GetLength() * sizeof(TCHAR);
        cpd.lpData = (PVOID)strMsg.GetBuffer(0);
        //1å¥æŸ„ 2æ¶ˆæ¯ç±»å‹ 3ä¸»çª—å£ 4copyç»“æ„ä½“
        ::SendMessage(hwnd, WM_COPYDATA, (WPARAM)(AfxGetApp()-&gt;m_pMainWnd),(LPARAM) &amp; cpd);
    &#125;

    strWinTitle.ReleaseBuffer();
    strMsg.ReleaseBuffer();
&#125;
</code></pre>
<p>æœåŠ¡ç«¯é€šè¿‡wm_copydataè‡ªåŠ¨æ¥æ”¶</p>
<pre><code class="cpp">BOOL CmyNamePipeSerDlg::OnCopyData(CWnd *pWnd, COPYDATASTRUCT *pCopyDataStruct)&#123;
    //æ¶ˆæ¯å“åº”ä¹‹åè§£æ
    LPCTSTR szText = (LPCTSTR)(pCopyDataStruct-&gt;lpData);
    DWORD dwLength = (DWORD)pCopyDataStruct-&gt;cbData;
    TCHAR szRecvText[1024] = &#123; 0 &#125;;
    memcpy(szRecvText, szText, dwLength);
    MessageBox(szRecvText, _T(&quot;Y&quot;), MB_OK);

    return CDialogEx::OnCopyData(pWnd, pCopyDataStruct);
&#125;
</code></pre>
<p>è¿™ä¸ªæ¡†æ¶æ˜¯é€šè¿‡ç¼–è¯‘å™¨é€ çš„ä¸ç”¨è‡ªå·±æ•²ï¼Œé‡Œé¢çš„å®ç°è¦è‡ªå·±æ¥<br>å³å‡»å›¾å½¢ç•Œé¢ï¼Œæ‰¾åˆ°ç±»å‘å¯¼æ‰“å¼€ï¼Œæ¶ˆæ¯é‡Œé¢æœç´¢ç„¶ååŒå‡»å°±å‡ºæ¥äº†</p>
<img src="/2022/07/21/process/026.png" class="">

<p>æœ€åè·‘ä¸€ä¸‹</p>
<img src="/2022/07/21/process/027.png" class="">
<p>å½“å®¢æˆ·ç«¯ç‚¹å‡»å‘é€çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯æ­¤åˆ»ä¸éœ€è¦ç‚¹å‡»æ¥æ”¶æ‰èƒ½æ”¶åˆ°æ¶ˆæ¯ï¼Œè€Œæ˜¯è‡ªåŠ¨çš„æ”¶åˆ°äº†æ¶ˆæ¯ã€‚<br>è¿™ç§æ–¹å¼å¯èƒ½ç”¨çš„ä¼šæ¯”è¾ƒå¤šã€‚</p>
<hr>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>å‰ªåˆ‡æ¿æ¯”è¾ƒç®€å•ï¼Œä»–å’ŒåŒ¿åç®¡é“ä¸€æ ·åªèƒ½å®ç°åŒä¸€ä¸ªæœºå™¨çš„ä¸¤ä¸ªè¿›ç¨‹é€šä¿¡ï¼Œä¸èƒ½è·¨ç½‘ç»œã€‚<br>é‚®æ§½åŸºäºå¹¿æ’­ï¼Œå¯ä»¥ä¸€å¯¹å¤šå‘é€ï¼Œä½†æ˜¯åªèƒ½ä¸€ä¸ªå‘ä¸€ä¸ªæ”¶ï¼Œè¦åŒæ—¶è¿›è¡Œå°±è¦å¤šå†™ç‚¹ä»£ç ã€‚é‚®æ§½ä¼ è¾“çš„æ•°æ®é‡è¾ƒå°ï¼Œåªèƒ½æ˜¯424å­—èŠ‚ä¸€ä¸‹ã€‚<br>å‘½åç®¡é“å’Œé‚®æ§½éƒ½å¯ä»¥è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œå‘½åç®¡é“æ˜¯ç‚¹å¯¹ç‚¹çš„å•ä¸€é€šä¿¡ã€‚<br>WM_COPYDATAå°è£…æ•°æ®å’Œè§£ææ•°æ®ï¼Œä½¿ç”¨èµ·æ¥ä¹ŸæŒºæ–¹ä¾¿ï¼Œä¸è¿‡æ•°æ®é‡æ¯”è¾ƒå¤§çš„è¯å°±å»ºè®®ç”¨å‘½åç®¡é“ã€‚</p>
<p>è¯´å‚æ•°æ˜¯æŒºæ— èŠçš„ï¼Œä½†æ˜¯å®ç°ä¸€ä¸‹ä¹Ÿè¿˜è¡Œã€‚</p>

        </div>

    </div>

    

    

    

    
  <div class="article-copyright hairline">
    <p>
      æœ¬ä½œå“é‡‡ç”¨  <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®® (CC BY-NC-ND 4.0)</a> è¿›è¡Œè®¸å¯ã€‚
    </p>
  </div>
  

    

    
<nav class="article-nav">
  
    <a href="/2022/07/23/windowsFiles/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-caption">ä¸‹ä¸€ç¯‡</div>
      <div class="article-nav-title">
        
          windowsæ–‡ä»¶å¤„ç†
        
      </div>
    </a>
  
  
    <a href="/2022/07/20/thread1/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-caption">ä¸Šä¸€ç¯‡</div>
      <div class="article-nav-title">çº¿ç¨‹-ç»­</div>
    </a>
  
</nav>


    <section class="share">
        <div class="share-title">åˆ†äº«</div>
        <a class="share-item" target="_blank"
            href="https://twitter.com/share?text=è¿›ç¨‹ - ohmyhsy&url=https%3A%2F%2F8bytes.top%2F2022%2F07%2F21%2Fprocess%2F">
            <box-icon type='logo' name='twitter'></box-icon>
        </a>
        <a class="share-item" target="_blank"
            href="https://www.facebook.com/sharer.php?title=è¿›ç¨‹ - ohmyhsy&u=https%3A%2F%2F8bytes.top%2F2022%2F07%2F21%2Fprocess%2F">
            <box-icon name='facebook-square' type='logo' ></box-icon>
        </a>
        <!-- <a class="share-item" target="_blank"
            href="https://service.weibo.com/share/share.php?title=è¿›ç¨‹ - ohmyhsy&url=https://8bytes.top/2022/07/21/process/&pic=">
            <div class="n-icon n-icon-weibo"></div>
        </a> -->
    </section>

</article>
















    <!-- <script src="//unpkg.com/@waline/dist/Waline.min.js"></script> -->
    <script src="https://unpkg.com/@waline/client@v2/dist/waline.js"></script>
    <link
        rel="stylesheet"
        href="https://unpkg.com/@waline/client@v2/dist/waline.css"
    />
    <section class="comments">
        <div id="waline"></div>
    </section>
    <script>
        Waline.init({
          el: '#waline',
          serverURL: 'https://ohmyhsy.vercel.app/',
        });
    </script>



<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</div>

                </section>
            </section>

            
            <aside class="sidebar sidebar-search-fix">
                

    <div class="search">
    <div class="has-icon-right">
        <input type="text" class="form-input" id="search" placeholder="SEARCH" autocomplete="off">
        <div class="form-icon">
            <box-icon name='search' color="#3c4859"></box-icon>
        </div>
    </div>
    <div class="search-result" id="search-ps"></div>
</div>


<div class="widget" id="widget">
    
      
  <div class="widget-wrap">
    <div class="widget-inner">
      <div class="toc post-toc-html"></div>
    </div>
  </div>

    
      

    
      
  <div class="widget-wrap widget-tags">
    <div class="widget-title"><span>Tags</span></div>
    <div class="widget-inner">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/MFC/" rel="tag">MFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoteBook/" rel="tag">NoteBook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RemoteControl/" rel="tag">RemoteControl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cheat-engine/" rel="tag">cheat engine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/compiler/" rel="tag">compiler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpp/" rel="tag">cpp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/exam/" rel="tag">exam</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jetbrains/" rel="tag">jetbrains</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phone/" rel="tag">phone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/visual-studio-2022/" rel="tag">visual studio 2022</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-recent-posts">
    <div class="widget-title"><span>Recent Posts</span></div>
    <div class="widget-inner">
      <ul>
        
          <li>
            <a href="/2022/09/16/phoneTest/">ç»™çˆªæœºä¸Šç‚¹ç§‘æŠ€</a>
          </li>
        
          <li>
            <a href="/2022/09/15/%E8%BF%9C%E6%8E%A7%E9%97%AE%E9%A2%98%E9%9B%86/">è¿œæ§é—®é¢˜é›†</a>
          </li>
        
          <li>
            <a href="/2022/09/10/text021/">text021</a>
          </li>
        
          <li>
            <a href="/2022/09/10/text020/">text020</a>
          </li>
        
          <li>
            <a href="/2022/09/05/text019/">text019</a>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-archive">
    <div class="widget-title"><span>Archive</span></div>
    <div class="widget-inner">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a></li></ul>
    </div>
  </div>


    
</div>

<div id="backtop"><i class="icon icon-arrow-up"></i></div>
            </aside>
            
        </div>
    </div>

    <footer class="footer">
    <div class="footer-wave">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#3c4859" fill-opacity="1" d="M0,160L60,181.3C120,203,240,245,360,240C480,235,600,181,720,186.7C840,192,960,256,1080,261.3C1200,267,1320,213,1380,186.7L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path></svg>
    </div>

    <!-- Please do not remove this -->
    <!-- å¼€æºä¸æ˜“ï¼Œè¯·å‹¿åˆ é™¤ -->
    <div class="footer-wrap">
        <div class="footer-inner"> 
            ohmyhsy &copy; 2022<br>
            Powered By Hexo Â· Theme By <a href="https://linhong.me/" target="_blank">Aomori</a> Â· <a href="https://github.com/lh1me/hexo-theme-aomori" target="_blank">Github</a>
        </div>
    </div>

</footer>






<script src="/dist/build.js?1646451311888.js"></script>


<script src="/dist/custom.js?1646451311888.js"></script>













</body>

</html>